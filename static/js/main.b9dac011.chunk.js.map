{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Login.js","components/Register.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/EditConfirmPopup.js","components/ImagePopup.js","images/InfoTooltipOk.svg","images/InfoTooltipFault.svg","components/InfoTooltip.js","utils/api.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","onSignOut","email","path","exact","className","src","logo","alt","onClick","to","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","type","onCardLike","length","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","Login","onLogin","initialData","password","useState","data","setData","history","useHistory","handleChange","e","target","value","resetForm","onSubmit","preventDefault","then","push","catch","err","console","log","id","onChange","required","minLength","maxLength","placeholder","Register","onRegister","Footer","PopupWithForm","isOpen","title","children","onClose","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","nameRef","linkRef","EditConfirmPopup","ImagePopup","card","InfoTooltip","success","InfoTooltipOk","InfoTooltipFault","api","baseUrl","this","_baseUrl","res","ok","json","Promise","reject","status","fetch","headers","authorization","localStorage","getItem","_requestResult","method","body","JSON","stringify","ProtectedRoute","Component","component","loggedIn","BASE_URL","responseCheck","response","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltip","setIsInfoTooltip","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","setLoggedIn","setSuccess","tokenCheck","useCallback","jwt","getUserData","getInitialCards","Provider","removeItem","deleteCardLike","addCardLike","newCard","newCards","c","removeCard","filter","auth","statusCode","Error","token","setItem","editProfile","changeUserAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b9dac011.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Route, Link } from 'react-router-dom';\r\nimport logo from '../images/logo.svg'\r\n\r\nfunction Header({onSignOut, email}) {\r\n    return (\r\n      <>\r\n        <Route path=\"/\" exact>\r\n        <header className=\"header header_menu\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Рисунок\" />\r\n          <div className=\"header__container\">\r\n            <p className=\"header__email\">{email}</p>\r\n            <button  className=\"header__button\" onClick={onSignOut}>Выйти</button>  \r\n          </div>\r\n          </header>\r\n          {/* <img className=\"header__burger-menu\" />    */}\r\n        </Route>\r\n        <Route path=\"/signin\">\r\n        <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Рисунок\" />  \r\n          <Link to=\"/signup\" className=\"header__link\">Регистрация</Link>\r\n          </header>  \r\n        </Route>\r\n        <Route path=\"/signup\">\r\n        <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Рисунок\" />\r\n          <Link to=\"/signin\" className=\"header__link\">Войти</Link>\r\n          </header>\r\n        </Route>\r\n      </>\r\n    );\r\n  }\r\n  \r\n  export default Header;\r\n\r\n\r\n\r\n\r\n\r\n// function NavBar({ onSignOut }) {\r\n\r\n//   return (\r\n//     <div className=\"navbar\">\r\n//       <div className=\"navbar__logo\">\r\n//         <Logo />\r\n//       </div>\r\n//       <ul className=\"navbar__nav\">\r\n//         <li><Link to=\"ducks\" className=\"navbar__link\">Утки</Link></li>\r\n//         <li><Link to=\"my-profile\" className=\"navbar__link\">Мой профиль</Link></li>\r\n//         <li><button onClick={onSignOut} className=\"navbar__link navbar__button\">Выйти</button></li>\r\n//       </ul>\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import { useContext} from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.owner === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete-button ${isOwn ? 'element__delete-button' : 'element__delete-button_hidden'}`\r\n  ); \r\n  const isLiked = props.likes.some(i => i === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__button ${isLiked ? 'element__button_active' : ''}`\r\n  );; \r\n  function handleLikeClick() {\r\n    props.onCardLike({\r\n      likes: props.likes,\r\n      _id: props._id\r\n    })\r\n  }\r\n  function handleDeleteCardClick() {\r\n    props.onCardDelete({\r\n      _id: props._id\r\n    })\r\n  }\r\n  function handleClick() {\r\n    props.onCardClick({\r\n      name: props.name,\r\n      src: props.link\r\n    })\r\n  }\r\n\r\n    return (\r\n        <div className=\"element\">\r\n            <img className=\"element__image\" src={props.link} alt={props.name} onClick={handleClick}/>\r\n            <div className=\"element__row\">\r\n              <h2 className=\"element__title\" >{props.name}</h2>\r\n              <div className=\"element__buttons\">\r\n                <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\r\n                <div className=\"element__like-numbers\" >{props.likes.length}</div>\r\n              </div>\r\n            </div>\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteCardClick}/>\r\n          </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import { useContext} from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <section className=\"profile\">\r\n          <div className=\"profile__columns\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Рисунок\" onClick={props.onEditAvatar}/>\r\n            <div className=\"profile__info\">\r\n              <h1 className=\"profile__info-title\">{currentUser.name}</h1>\r\n              <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile} />\r\n              <p className=\"profile__info-subtitle\">{currentUser.about}</p>\r\n            </div>\r\n          </div>\r\n          <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace} />         \r\n        </section>\r\n        <section className=\"elements\">\r\n          {props.cards.map(item => {return (<Card \r\n                                        key={item._id}   \r\n                                        {...item} \r\n                                        onCardClick={props.onCardClick} \r\n                                        onCardLike={props.onCardLike}\r\n                                        onCardDelete={props.onCardDelete}\r\n                                      />)})}\r\n        </section>\r\n      </main>\r\n    );\r\n}\r\n  \r\nexport default Main;","import { useHistory } from 'react-router-dom';\r\nimport { useState } from 'react';\r\n\r\nfunction Login( {onLogin} ) {\r\n\r\n    const initialData = {\r\n        email: '',\r\n        password: ''\r\n      }\r\n\r\n    const [data, setData] = useState(initialData);\r\n    const history = useHistory();\r\n\r\n    const handleChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setData(data => ({\r\n            ...data,\r\n          [name]: value \r\n        }))\r\n      }\r\n\r\n    const resetForm = () => {\r\n        setData(initialData);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(!data.password || !data.email) {\r\n            return;\r\n        }\r\n        onLogin(data)\r\n        .then(resetForm)\r\n        .then(() => history.push('/'))\r\n        .catch(err => console.log(err))\r\n    }\r\n    return (\r\n      <div className=\"login\">\r\n        <h2 className=\"login__title\">Вход</h2>\r\n        <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <input \r\n            type=\"email\" name='email' className=\"login__input\" id=\"email\"\r\n            value={data.email}\r\n            onChange={handleChange}\r\n            required minLength={2} maxLength={40} placeholder=\"Email\" \r\n        />\r\n        <span \r\n            id=\"email-error\" \r\n            className=\"error\" \r\n        />\r\n        <input \r\n            type=\"password\" name='password' className=\"login__input\" id=\"password\" required minLength={2} \r\n            maxLength={30} placeholder=\"Пароль\" \r\n            value={data.password}\r\n            onChange={handleChange}\r\n        />\r\n        <span \r\n            id=\"password-error\" \r\n            className=\"error\" \r\n        />    \r\n        <button \r\n            type=\"submit\" \r\n            className=\"login__submit-button\"\r\n            >Войти\r\n        </button>\r\n        </form>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Login;","import { Link, useHistory } from 'react-router-dom';\r\nimport { useState } from 'react';\r\n\r\nfunction Register( {onRegister} ) {\r\n    const initialData = {\r\n        email: '',\r\n        password: ''\r\n      }\r\n\r\n    const [data, setData] = useState(initialData);\r\n    const history = useHistory();\r\n\r\n    const handleChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setData(data => ({\r\n            ...data,\r\n          [name]: value \r\n        }))\r\n      }\r\n\r\n    const resetForm = () => {\r\n        setData(initialData);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(!data.password || !data.email) {\r\n            return;\r\n        }\r\n        onRegister(data)\r\n        .then(resetForm)\r\n        .then(() => history.push('/signin'))\r\n        \r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n      <div className=\"login\">\r\n        <h2 className=\"login__title\">Регистрация</h2>\r\n        <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <input \r\n            type=\"email\" \r\n            name='email'\r\n            className=\"login__input\" \r\n            id=\"email\"\r\n            value={data.email}\r\n            onChange={handleChange}\r\n            required minLength={2} maxLength={40} placeholder=\"Email\" \r\n        />\r\n        <span \r\n            id=\"email-error\" \r\n            className=\"error\" \r\n        />\r\n        <input \r\n            type=\"password\" \r\n            name='password'\r\n            className=\"login__input\" \r\n            id=\"password\" \r\n            value={data.password}\r\n            onChange={handleChange}\r\n            required minLength={2} maxLength={30} placeholder=\"Пароль\" \r\n        />\r\n        <span \r\n            id=\"password-error\" \r\n            className=\"error\" \r\n        />    \r\n        <button \r\n            type=\"submit\" \r\n            className=\"login__submit-button\"\r\n            \r\n            >Зарегистрироваться\r\n        </button>\r\n        </form>\r\n        <div className=\"login__container\">\r\n        <p className=\"login__text\">Уже зарегистрированы?</p>\r\n        <Link to=\"login\" className=\"login__link\">Войти</Link>\r\n      </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Register;","function Footer() {\r\n    return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n      </footer>\r\n    );\r\n  }\r\n  \r\n  export default Footer;","function PopupWithForm(props) {\r\n  return (\r\n      <>\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''} `}> \r\n          <div className=\"popup__container\">\r\n            <h2 className=\"popup__title\">{props.title}</h2>\r\n            <form className={`popup__form popup__form_type_${props.name}`} name=\"form-popup\" onSubmit={props.onSubmit}>\r\n              {props.children}   \r\n            </form>\r\n            <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}/>\r\n          </div>\r\n        </div>\r\n      </>\r\n  );\r\n}\r\n  \r\nexport default PopupWithForm;","import PopupWithForm from './PopupWithForm';\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  \r\n\r\n  const [name, setName ] = useState(currentUser.name);\r\n  const [description, setDescription] = useState(currentUser.about);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n    return (\r\n        <PopupWithForm \r\n            name={'edit'} \r\n            title={'Редактировать профиль'} \r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose} \r\n            onSubmit={handleSubmit}>\r\n            <>\r\n              <input \r\n                type=\"text\" \r\n                name='name'\r\n                className=\"popup__info popup__info_title popup__input\" \r\n                id=\"name-input\"\r\n                value={name || ''}\r\n                onChange={handleChangeName} \r\n                // defaultValue='111'\r\n                required minLength={2} maxLength={40} placeholder=\"Имя\" \r\n              />\r\n              <span \r\n                id=\"name-input-error\" \r\n                className=\"error\" \r\n              />\r\n              <input \r\n                type=\"text\" \r\n                name='about'\r\n                className=\"popup__info popup__info_subtitle popup__input\" \r\n                id=\"title-input\" \r\n                value={description || ''}\r\n                onChange={handleChangeDescription}\r\n                required minLength={2} maxLength={200} placeholder=\"Проффесия\" \r\n                // defaultValue='222'\r\n              />\r\n              <span \r\n                id=\"title-input-error\" \r\n                className=\"error\" \r\n              />    \r\n              <button \r\n                type=\"submit\" \r\n                className=\"popup__submit-button\"\r\n                >Сохранить\r\n              </button>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n          \r\nexport default EditProfilePopup;","import PopupWithForm from './PopupWithForm';\r\nimport {  useRef } from 'react';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n  \r\n\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n\r\n    });\r\n  } \r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='avatar' \r\n            title='Обновить аватар'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit} >\r\n            <>\r\n              <input \r\n                type=\"url\" \r\n                required \r\n                className=\"popup__info popup__info_subtitle popup__info_subtitle-add-card\" \r\n                placeholder=\"Ссылка на аватар\" \r\n                name=\"link\" \r\n                id=\"info-subtitle-avatar\" \r\n                ref={avatarRef}\r\n              />\r\n              <span \r\n                id=\"info-subtitle-avatar-error\" \r\n                className=\"error\" \r\n              />  \r\n              <button \r\n                type=\"submit\" \r\n                className=\"popup__submit-button popup__submit-button_add-card\">Сохранить\r\n              </button>\r\n            </>\r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\r\nimport { useRef } from 'react';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const nameRef = useRef();\r\n  const linkRef = useRef();\r\n  \r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      \r\n      name: nameRef.current.value,\r\n      link: linkRef.current.value\r\n    });\r\n    nameRef.current.value = '';\r\n    linkRef.current.value = '';\r\n  } \r\n\r\n\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='add-card' \r\n            title='Новое место' \r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose} \r\n            onSubmit={handleSubmit}  >\r\n            <> \r\n              <input \r\n                type=\"text\" \r\n                required \r\n                minLength={2} \r\n                maxLength={30} \r\n                className=\"popup__info popup__info_title popup__info_title-add-card\" \r\n                placeholder=\"Название\" \r\n                name=\"name\" \r\n                id=\"info-title-add-card\" \r\n                ref={nameRef}\r\n                \r\n              />\r\n              <span \r\n                id=\"info-title-add-card-error\" \r\n                className=\"error\" \r\n              />  \r\n              <input \r\n                type=\"url\" \r\n                required \r\n                className=\"popup__info popup__info_subtitle popup__info_subtitle-add-card\" \r\n                placeholder=\"Ссылка на картинку\" \r\n                name=\"link\" \r\n                id=\"info-subtitle-add-card\" \r\n                ref={linkRef}\r\n                \r\n              />\r\n              <span \r\n                id=\"info-subtitle-add-card-error\" \r\n                className=\"error\" \r\n              />  \r\n              <button \r\n                type=\"submit\" \r\n                className=\"popup__submit-button popup__submit-button_add-card\">Создать\r\n              </button>\r\n            </>\r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditConfirmPopup() {\r\n    return (\r\n        <PopupWithForm \r\n            name='confirm' \r\n            title='Вы уверены?' >\r\n            <>\r\n              <button \r\n                type=\"submit\" \r\n                className=\"popup__submit-button\">Да\r\n              </button>\r\n            </>\r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditConfirmPopup;","function ImagePopup(props) {\r\n    return (\r\n        <div className={`popup popup_type_image ${props.card ? 'popup_opened' : ''} `}>\r\n            <div className=\"popup__container-image\">\r\n                <img className=\"popup__image\" src={props.card ? props.card.src : '#'} alt={props.card ? props.card.name : '#'} />\r\n                <button type=\"button\" className=\"popup__close-button popup__close-button-image\" onClick={props.onClose}/>\r\n                <h2 className=\"popup__image-caption\">{props.card ? props.card.name : '#'}</h2>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n    \r\nexport default ImagePopup;","export default __webpack_public_path__ + \"static/media/InfoTooltipOk.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/InfoTooltipFault.7c6a020b.svg\";","import InfoTooltipOk from '../images/InfoTooltipOk.svg';\r\nimport InfoTooltipFault from '../images/InfoTooltipFault.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <div className={`popup  ${props.isOpen ? 'popup_opened' : ''} `}> \r\n            <div className=\"popup__container popup__container-info-tooltip\">\r\n                <img className=\"popup__image popup__image-info-tooltip\" src={props.success ? InfoTooltipOk : InfoTooltipFault} \r\n                alt='Картинка'/>\r\n                <h2 className=\"popup__title popup__title-image-info-tooltip\">\r\n                    {props.success ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</h2>\r\n                <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}/>\r\n            </div>\r\n        </div>\r\n    );\r\n  }\r\n    \r\n  export default InfoTooltip;","class Api {\r\n    constructor ({baseUrl}) {\r\n        this._baseUrl = baseUrl;\r\n    };\r\n\r\n    _requestResult(res) {\r\n      if (res.ok) {\r\n      return res.json();\r\n     }\r\n     return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    }\r\n\r\n    getInitialCards() {\r\n      return fetch (`${this._baseUrl}/cards`, {\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        }\r\n      })\r\n      .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    getUserData() {\r\n      return fetch (`${this._baseUrl}/users/me`, {\r\n        headers: {\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        }\r\n      })\r\n      .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    addCard(data) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              name: data.name,\r\n              link: data.link\r\n            })\r\n          })\r\n          .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    removeCard(id) {\r\n      return fetch(`${this._baseUrl}/cards/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        }\r\n      })\r\n      .then((res) => this._requestResult(res))\r\n    }\r\n    \r\n\r\n    addCardLike(id){\r\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n          method: 'PUT',\r\n          headers: {\r\n              authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          },\r\n        })\r\n        .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    deleteCardLike(id){\r\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n              authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n          },\r\n        })\r\n        .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    editProfile(data) {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n          method: 'PATCH',\r\n          headers: {\r\n              authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            name: data.name,\r\n            about: data.about \r\n          })\r\n        })\r\n        .then((res) => this._requestResult(res))\r\n  }\r\n\r\n    changeUserAvatar(data) {\r\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n          method: 'PATCH',\r\n          headers: {\r\n              authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            avatar: data.avatar\r\n          })\r\n        })\r\n        .then((res) => this._requestResult(res))\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'http://localhost:3000'\r\n})\r\n\r\n\r\nexport default api;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","export const BASE_URL = 'http://localhost:3000';\r\n\r\nconst responseCheck = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then(responseCheck)\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then(responseCheck)\r\n  \r\n};\r\n","import { useState, useEffect, useCallback } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditConfirmPopup from './EditConfirmPopup';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from '../utils/auth';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  function handleEditProfileClick () {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick () {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick () {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n    setIsInfoTooltip(false)\n  }\n  function handleCardClick (card) {\n    setSelectedCard(card);\n  }\n function handleUpdateUser(data) {\n  api.editProfile(data)\n    .then(data => {\n      setCurrentUser(data);\n      closeAllPopups()\n    }\n    )\n    .catch(err => console.log(err))\n  } \n  function handleUpdateAvatar(data) {\n    api.changeUserAvatar(data)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups()\n      }\n      )\n      .catch(err => console.log(err))\n    } \n    function handleAddPlaceSubmit(data) {\n      api.addCard(data)\n        .then(newCard => {\n          setCards([newCard, ...cards]);;\n          closeAllPopups()\n        }\n        )\n        .catch(err => console.log(err))\n    } \n    function handleCardLike(card) {\n      const isLiked = card.likes.some(i => i === currentUser._id);\n      const likeRequest = !isLiked ? api.addCardLike(card._id) : api.deleteCardLike(card._id);\n      likeRequest\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch(err => console.log(err))\n    } \n    function handleCardDelete(card) {\n      api.removeCard(card._id) \n        .then(() => {\n          const newCards = cards.filter((data) => {return card._id !== data._id} );\n          setCards(newCards);\n        })\n        .catch(err => console.log(err))\n    } \n\n    const initialData = {\n      email: '',\n      password: ''\n    }\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [data, setData] = useState(initialData)\n    const [success, setSuccess] = useState(false)\n    const history = useHistory();\n\n    const tokenCheck = useCallback (() => {\n      const jwt = localStorage.getItem('jwt');\n      if (jwt) {\n        api.getUserData(jwt)\n        .then((res) => {\n          if(res) {\n            setData({\n              email: res.email,\n            })\n            setLoggedIn(true);\n            history.push('/')\n          }\n        })\n        .catch((res) => {\n          history.push('/signin')})\n      }\n\n    }, [history])\n\n    useEffect(() => {\n      tokenCheck();\n    }, [tokenCheck])\n\n    const handleRegister = ({email, password}) => {\n      return auth.register(email, password)\n      .then((res) => {\n        setSuccess(true);\n        setIsInfoTooltip(true);\n        history.push('/signin');\n        return res;\n      })\n      .catch(err => {\n        setIsInfoTooltip(true);\n        history.push('/signup');\n        setSuccess(false);})\n    }\n\n    const handleLogin = ({ email, password }) => {\n      return auth.login(email, password).then(res => {\n        if (!res || res.statusCode === 400) throw new Error('Что-то пошло не так');\n        if (res.token) {\n          setData({email})\n          localStorage.setItem('jwt', res.token);\n          setLoggedIn(true);\n        };\n      });\n      \n    }\n\n    const handleSignOut = () => {\n      localStorage.removeItem('jwt');\n      setData(initialData);\n      setLoggedIn(false);\n      history.push('/signin');\n    }\n\n    useEffect( () => {\n      if(loggedIn) {\n        api.getUserData()\n        .then(data => {\n          setCurrentUser(data);\n        })\n      .catch(err => console.log(err))  \n      }\n    },[loggedIn])\n\n    useEffect( () => {\n      if(loggedIn) {\n        api.getInitialCards()\n        .then(res => {\n          setCards(res)\n        })\n        .catch(err => console.log(err))\n      }\n    }, [loggedIn])\n\n    // useEffect(() => {\n    //   if(loggedIn) {\n    //     api.getUserData()\n    //     .then((res) => {\n    //       setCurrentUser(res)\n    //     })\n    //     .catch((err) => {\n    //       console.log(err)\n    //     })\n    //   }\n    // }, [loggedIn])\n  return (\n    \n    <div className=\"App\">\n      <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"body\">\n      \n        <div className=\"page\">\n          <Header onSignOut={handleSignOut} email={data.email} /> \n          <Switch>\n          <ProtectedRoute \n            path=\"/\" \n            exact \n            loggedIn={loggedIn}\n             \n            component={Main} \n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}/>\n\n          <Route path=\"/signin\">\n            <Login onLogin={handleLogin} tokenCheck={tokenCheck}/>\n          </Route>\n\n          <Route path=\"/signup\">\n            <Register onRegister={handleRegister}  /> \n          </Route>\n\n          <Route>\n            {loggedIn ? <Redirect to='/' /> : <Redirect to='/signin' />}\n          </Route>\n\n          </Switch>\n          <Footer />\n          <EditProfilePopup \n            isOpen={isEditProfilePopupOpen} \n            onClose={closeAllPopups} \n            onUpdateUser={handleUpdateUser} />\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar} />\n          <AddPlacePopup \n            isOpen={isAddPlacePopupOpen} \n            onClose={closeAllPopups} \n            onAddPlace={handleAddPlaceSubmit}  />\n          <EditConfirmPopup />\n          \n          <ImagePopup \n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n          <InfoTooltip \n            isOpen={isInfoTooltip} \n            onClose={closeAllPopups}\n            success={success}\n             />\n\n        </div>\n        \n      </div>  \n      </CurrentUserContext.Provider>\n    </div>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}